
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/font-awesome.min.css">

    <link href="/static/custom.css" rel="stylesheet">



    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />


    <meta name="author" content="Ashley Arthur" />
    <meta name="description" content="Ashley Arthur's Thoughts and Writings" />
<meta property="og:site_name" content="Tech Notes"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Tech Notes"/>
<meta property="og:description" content="Ashley Arthur's Thoughts and Writings"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content=""/>
<meta property="og:image" content="/images/portrait.jpg">

  <title>Tech Notes &ndash;     Tag Testing
</title>

</head>
<body>
  <aside>
    <div>
      <a href="">
        <img src="/images/portrait.jpg" alt="Ashley Arthur" title="Ashley Arthur">
      </a>
      <h1><a href="">Ashley Arthur</a></h1>

<p>Tech notes and Discoveries</p>

      <ul class="social">
        <li><a class="sc-linkedin" href="https://uk.linkedin.com/in/ashley-arthur-4a918635" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-github" href="https://github.com/ash30" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-flickr" href="https://www.flickr.com/photos/ash30/" target="_blank"><i class="fa fa-flickr"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/tags.html">Tags</a>


    </nav>



<article>
  <header>
    <h2><a href="/testing-mac-gatekeeper.html#testing-mac-gatekeeper">Testing Mac Gatekeeper</a></h2>
    <p>
          Posted on Wed 29 April 2015 in <a href="/category/tech.html">Tech</a>


          &#8226;     Tagged with

              <a href="/tag/testing.html">Testing</a>,              <a href="/tag/osx.html">OSX</a>
    </p>
  </header>
  <div>
      <p>Gatekeeper on macOS guards against the execution and installation of applications from unknown sources.
In order to pass this security check an application needs to be correctly signed which means its
a good requirement to check before a release.</p>
<p>The key gotcha to watch out for when testing is to ensure the executable has been quarantined.
By that I mean it has the ''com.apple.quarantine'' extended attribute present as Gatekeeper 
is triggered specifically at the first time you execute or install a quarantined file.</p>
<p>To verify the existence of the quarantine flag, you can show 'ls' output in terminal and look
for the '@' at the end of the permission fields. Better yet you can use the 'xattr' command to
show any extended attributes that exist on a file.</p>
<div class="highlight"><pre><span></span>$ xattr /path/to/file

com.apple.quarantine
</pre></div>


<p>A programatic method to verify if the application's signature will pass gate keeper is to run the 'spctl' command.</p>
<div class="highlight"><pre><span></span>spctl --assess --type install ./path/to/file
</pre></div>


<p>Spctl will exit zero on success or return one if anything failed.</p>
<p>Additionally you can check the actual signature use 'pkgutil' for futher details.</p>
<div class="highlight"><pre><span></span>pkgutil --check-signature ./path/to/file
</pre></div>
      <br>
      <a class="btn" href="/testing-mac-gatekeeper.html#testing-mac-gatekeeper">    Continue reading
</a>
  </div>
</article>

  <div class="pagination">
  </div>




    <footer>
<p>&copy; Ashley Arthur 2016</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Tech Notes ",
  "url" : "",
  "image": "/images/portrait.jpg",
  "description": "Ashley Arthur's Thoughts and Writings"
}
</script>
</body>
</html>