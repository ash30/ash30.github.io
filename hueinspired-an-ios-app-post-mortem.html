<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>HueInspired - an iOS App Post Mortem — Ashley Arthur</title>
	<meta name="description" content="Title: HueInspired - an iOS App Post Mortem; Date: 2017-05-02; Author: Ashley Arthur">
	<meta name="author" content="Ashley Arthur">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="http://ashleyarthur.co.uk/theme/html5.js"></script>
		<![endif]-->
	<link href="http://ashleyarthur.co.uk/theme/css/ipython.css" rel="stylesheet">
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	<link href="//maxcdn.bootstrapcdn.com/bootswatch/3.2.0/simplex/bootstrap.min.css" rel="stylesheet">
	<link href="http://ashleyarthur.co.uk/theme/css/local.css" rel="stylesheet">
	<link href="http://ashleyarthur.co.uk/theme/css/pygments.css" rel="stylesheet">
</head>
<body>
<div class="container">
	<div class="page-header">
		<h1><a href="http://ashleyarthur.co.uk/">Ashley Arthur</a>
			<br>	</div>
	<div class="row">
		<div class="col-md-8 col-md-offset-2">
<div class="article" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="text-center article-header">
		<h1 itemprop="name headline" class="article-title">HueInspired - an iOS App Post Mortem</h1>
		<time datetime="2017-05-02T00:00:00+02:00" itemprop="datePublished">Tue 02 May 2017</time>
	</div>
	<div>
		Category:
		<span itemprop="articleSection">
			<a href="http://ashleyarthur.co.uk/category/tech.html" rel="category">Tech</a>
		</span>
	</div>
 
	<div>
		Tags:
		<span itemprop="keywords">
			<a href="http://ashleyarthur.co.uk/tag/swift.html" rel="tag">Swift</a>
		</span>
		<span itemprop="keywords">
			<a href="http://ashleyarthur.co.uk/tag/ios.html" rel="tag">iOS</a>
		</span>
	</div>
	<div itemprop="articleBody" class="article-body"><p>My current project is “HueInspired” - an iOS app for color palette generation from photos and I’m coming close to completing v1.0. Its been a blast and as a form of catharsis / chance to share what I learnt, I’m here to coherently ramble about the interesting points of the journey.</p>
<h3>Swinject</h3>
<p>In the initial prototype of the app I did my dependency injection manually through a combination of initialiser injection and pass through parameters. It worked but there was a lot of boiler plate that I had to maintain and it also conflated ownership as it required some classes to hold additional dependencies purely to pass it to constructors at runtime.</p>
<p>Swinject definitely cleaned up the boilerplate, centralising construction in container callbacks and through its storyboard extension helped remove any hardcoding in the view controllers. I really liked the fact singletons became implementation detail of the class rather than the calling code, helping to keep things testable.</p>
<p>The down side was I faced a lot of implicitly unwrapped optionals in said callbacks which makes me uneasy. It almost feels like you should include the Swinject container in your test coverage just to make sure all those assumptions hold, especially for parts of the object graph created dynamically at runtime. </p>
<h3>CoreData</h3>
<p>The main difficulty I had was ensuring reliable change notifications when working with FetchResultsController and multiple contexts. Mike Abdullah writes about it here: http://mikeabdullah.net/merging-saved-changes-betwe.html but in short: Any new objects that are merged into a context will only receive future update notifications if they are retained.</p>
<p>Ultimately it meant merging in new objects was easy, but merging in edits for the same object was tricky. I generally came to the conclusion that any user interaction with managed objects should happen in the shared view context to ensure all FetchResultsControllers can see the change.</p>
<hr />
<p>Overall I’m still a fan of both frameworks just now slightly more aware of the trade offs involved. 
Swinject is a pleasure to use and Core data, whilst not as charming has first party credentials that make it hard to ignore. </p>
<p>Regardless, I can't wait to start the next project! </p>
<h3>References</h3>
<p><a href="https://github.com/ash30/HueInspired">HueInspired Github Repro</a></p></div>
	<hr>
</div>
		</div>
	</div> 	<!-- <hr> -->
</div> <!-- /container -->
<footer class="aw-footer bg-danger">
	<div class="container"> <!-- footer -->
		<div class="row">
			<div class="col-md-10 col-md-offset-1">
				<div class="row">
					<div class="col-md-3">
						<h4>Navigation</h4>
						<ul class="list-unstyled my-list-style">
							<li><a href="http://ashleyarthur.co.uk">Home</a></li>
							<li><a href="http://ashleyarthur.co.uk/archives.html"><i class="fa fa-Archives "></i>Archives</a></li>
						</ul>
					</div>
					<div class="col-md-3">
						<h4>Author</h4>
						<ul class="list-unstyled my-list-style">
							<li><a href="https://uk.linkedin.com/in/ashley-arthur-4a918635">Linkedin</a></li>
							<li><a href="https://github.com/ash30">Github</a></li>
							<li><a href="https://www.flickr.com/photos/ash30">Flickr</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</footer>
<div class="container">
	<div class="row">
		<div class="col-md-12 text-center center-block aw-bottom">
			<p>&copy; Ashley Arthur 2016</p>
			<p>Powered by Pelican</p>
		</div>
	</div>
</div>
<!-- JavaScript -->
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script type="text/javascript">
jQuery(document).ready(function($) {
	$("div.collapseheader").click(function () {
		$header = $(this).children("span").first();
		$codearea = $(this).children(".input_area");
		$codearea.slideToggle(500, function () {
			$header.text(function () {
				return $codearea.is(":visible") ? "Collapse Code" : "Expand Code";
			});
		});
	});
});
</script>
</body>
</html>